var datagridData_invMachineSet = {
    'data': {
        'records': [
            {
                'mainSku': '10101404900', sortable: true,
                'subSku': '10101422300', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '10', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101404900', sortable: true,
                'subSku': '10101423200', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101404900', sortable: true,
                'subSku': '10101445500', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101405000', sortable: true,
                'subSku': '10101423300', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '10', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101405000', sortable: true,
                'subSku': '10101445500', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101405000', sortable: true,
                'subSku': '10101422400', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101413800', sortable: true,
                'subSku': '10101413700', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '10', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101413800', sortable: true,
                'subSku': '10101414200', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414000', sortable: true,
                'subSku': '10101414100', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414000', sortable: true,
                'subSku': '10101413900', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414300', sortable: true,
                'subSku': '10101405200', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414300', sortable: true,
                'subSku': '10101402100', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414300', sortable: true,
                'subSku': '0MHW006A010A', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414300', sortable: true,
                'subSku': '10101402100', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '20', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414300', sortable: true,
                'subSku': '0MHW006A010A', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '30', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
            {
                'mainSku': '10101414400', sortable: true,
                'subSku': '10101402200', sortable: true,
                'updateTime': '2013-07-29 18:06:55', sortable: true,
                'createTime': '2013-07-29 18:06:55', sortable: true,
                'status': '启用', sortable: true,
                'subStatus': '未启用', sortable: true,
                'posnr': '10', sortable: true,
                'operation':'<a>启用子件销售</a>',sortable :true
            },
        ], 'totalCount': 16
    }
};

var datagridOptions_invMachineSet = {
    fit: true,
    fitColumns: true,
    singleSelect: true,
    //url: '/module2/invMachineSet/p',
    frozenColumns: [[{
        field: 'id', checkbox: true
    }]],
    columns: [[
        {title: '主物料编码', field: 'mainSku', sortable: true,align:'center'},
        {title: '子物料编码', field: 'subSku', sortable: true,align:'center'},
        {title: '更新时间', field: 'updateTime', sortable: true,align:'center'},
        {title: '创建时间', field: 'createTime', sortable: true,align:'center'},
        {title: '套机启用状态', field: 'status', sortable: true,align:'center'},
        {title: '支持子件销售状态', field: 'subStatus', sortable: true,align:'center'},
        {title: 'BOM项目编号', field: 'posnr', sortable: true,align:'center'},
        {title: '操作', field: 'operation', sortable: true,align:'center'},

    ]],
    toolbar: '#datagridToolbar_invMachineSet',
    striped: true,
    pagination: true,
    rownumbers: true,
};
$(function () {
    var datagrid = $('#datagrid_invMachineSet').datagrid(datagridOptions_invMachineSet);
    datagrid.datagrid('loadData', datagridData_invMachineSet);
    //创建表头的菜单
    //CustomConfig.load(datagrid,"InvMachineSet");
    //$("#searchPanel_invMachineSet").panel('resize');

    /*$("#searchBtn_invMachineSet").on('click', function (event) {
     var param = $('#paramForm_invMachineSet').serializeObject();
     datagrid.datagrid({queryParams: param});
     event.preventDefault();
     });*/
    $("#addBtn_invMachineSet").on('click', function (event) {
        $('#addForm_invMachineSet').form('reset');
        $('#addForm_invMachineSet').find('[__actType]').val('add');
        $('#addDlg_invMachineSet').dialog({'title': '新增'});
        $('#addDlg_invMachineSet').dialog('open');
    });
    $("#addDlgSaveBtn_invMachineSet").on('click', function () {
        if (!$('#addForm_invMachineSet').form('validate')) {
            return;
        }
        var actType = $('#addForm_invMachineSet').find('[__actType]').val();
        if (actType === 'add') {
            alert('新增成功');
        } else {
            alert('编辑成功');
        }
        $('#addDlg_invMachineSet').dialog('close');
    });
    $("#editBtn_invMachineSet").on('click', function () {
        var selected = datagrid.datagrid('getSelected');
        $('#addDlg_invMachineSet').dialog({'title': '修改'});
        if (selected !== null) {
            $('#addForm_invMachineSet').form('load', selected);
            $('#addForm_invMachineSet').find('[__actType]').val('edit');
            $('#addDlg_invMachineSet').dialog('open');
        } else {
            alert('请选择一条数据');
        }
    });
    $("#deleteBtn_invMachineSet").on('click', function (event) {
        event.preventDefault();
        var selected = datagrid.datagrid('getSelected');
        if (selected !== null) {
            confirm('确定删除？', function (r) {
                if (r) {
                    alert('删除成功');
                }
            })

        } else {
            alert('请选择一条数据');
        }
    });
    $("#resetBtn_invMachineSet").on('click', function (event) {
        event.preventDefault();
        $('#paramForm_invMachineSet').form('reset');
    });
});
