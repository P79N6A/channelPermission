var datagridData_orderPriceGate = {
    'data': {
        'records': [
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '商用空调', sortable: true,
                'orderNo': '170322142436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GAORD7D1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '160', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '商用空调', sortable: true,
                'orderNo': '170322142436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GDSA7D1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '203', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '家用空调', sortable: true,
                'orderNo': '17567342436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GSFSD7D1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '232', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '家用空调', sortable: true,
                'orderNo': '5757552436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GAJGHJD1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '110', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '商用空调', sortable: true,
                'orderNo': '170322142436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GDSA7D1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '203', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '家用空调', sortable: true,
                'orderNo': '17567342436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GSFSD7D1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '232', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },
            {
                'orderSource': '淘宝海尔官方旗舰店', sortable: true,
                'channelCode': '天猫', sortable: true,
                'industry': '海尔集团电子商务有限公司（商用空调+其他）', sortable: true,
                'productType': '家用空调', sortable: true,
                'orderNo': '5757552436956', sortable: true,
                'orderStatus': '已确认', sortable: true,
                'sorderNo': '网单170121212', sortable: true,
                'sku': 'GAJGHJD1C', sortable: true,
                'kindName': '热水器', sortable: true,
                'model': '海尔电热水器', sortable: true,
                'sPrice': '1589', sortable: true,
                'shopPromotion': '0', sortable: true,
                'platformPromotion': '0', sortable: true,
                'sProductAmount': '1589', sortable: true,
                'sAmount': '1', sortable: true,
                'lowDifferOrPromotion': '110', sortable: true,
                'lowPrice': '1599', sortable: true,
                'makeOrderTime': '2017-03-22 14:24:36', sortable: true,
                'beGateTime': '2017-03-22 14-35-22', sortable: true,
                'beGateReason': '网单销售价低于报单价', sortable: true,
                'gateStatus': '放行', sortable: true,
                'gateType': '保本价', sortable: true,
                'openGatePerson': '代颖', sortable: true,
                'responsePerson': '高洪波', sortable: true,
                'openGateReason': '不良品换机', sortable: true,
                'openGateTime': '2017-3-22 14：55：10', sortable: true,
            },

        ], 'totalCount': 7
    }
};

var datagridOptions_orderPriceGate = {
    fit: true,
    fitColumns: true,
    singleSelect: false,
    //url: '/order/orderPriceGate/p',
    frozenColumns: [[{
        field: 'id', checkbox: true
    }]],
    columns: [[
        {title: '渠道', field: 'channelCode', sortable: true},
        {title: '订单来源', field: 'orderSource', sortable: true},
        {title: '产业', field: 'industry', sortable: true},
        {title: '产品组', field: 'productType', sortable: true},
        {title: '订单号', field: 'orderNo', sortable: true},
        {title: '订单状态', field: 'orderStatus', sortable: true},
        {title: '网单号', field: 'sorderNo', sortable: true},
        {title: '物料编码', field: 'sku', sortable: true},
        {title: '品类名称', field: 'kindName', sortable: true},
        {title: '型号', field: 'model', sortable: true},
        {title: '网单单价', field: 'sPrice', sortable: true},
        {title: '商城优惠券', field: 'shopPromotion', sortable: true},
        {title: '平台优惠券', field: 'platformPromotion', sortable: true},
        {title: '网单表productAmount', field: 'sProductAmount', sortable: true},
        {title: '网单数量', field: 'sAmount', sortable: true},
        {title: '保本价差额/费用池优惠券', field: 'lowDifferOrPromotion', sortable: true},
        {title: '保本价', field: 'lowPrice', sortable: true},
        {title: '下单时间', field: 'makeOrderTime', sortable: true},
        {title: '被闸时间', field: 'beGateTime', sortable: true},
        {title: '被闸原因', field: 'beGateReason', sortable: true},
        {title: '闸口状态', field: 'gateStatus', sortable: true},
        {title: '闸口类型', field: 'gateType', sortable: true},
        {title: '放行操作', field: 'openGatePerson', sortable: true},
        {title: '责任人', field: 'responsePerson', sortable: true},
        {title: '放行原因', field: 'openGateReason', sortable: true},
        {title: '放行时间', field: 'openGateTime', sortable: true},
    ]],
    toolbar: '#datagridToolbar_orderPriceGate',
    striped: true,
    pagination: true,
    rownumbers: true,
};
$(function () {
    var datagrid = $('#datagrid_orderPriceGate').datagrid(datagridOptions_orderPriceGate);
    datagrid.datagrid('loadData', datagridData_orderPriceGate);
    //创建表头的菜单
    //CustomConfig.load(datagrid,"OrderPriceGate");
    //$("#searchPanel_orderPriceGate").panel('resize');

    /*$("#searchBtn_orderPriceGate").on('click', function (event) {
     var param = $('#paramForm_orderPriceGate').serializeObject();
     datagrid.datagrid({queryParams: param});
     event.preventDefault();
     });*/
    $("#addBtn_orderPriceGate").on('click', function (event) {
        $('#addForm_orderPriceGate').form('reset');
        $('#addForm_orderPriceGate').find('[__actType]').val('add');
        $('#addDlg_orderPriceGate').dialog({'title': '新增'});
        $('#addDlg_orderPriceGate').dialog('open');
    });
    $("#addDlgSaveBtn_orderPriceGate").on('click', function () {
        if (!$('#addForm_orderPriceGate').form('validate')) {
            return;
        }
        var actType = $('#addForm_orderPriceGate').find('[__actType]').val();
        if (actType === 'add') {
            alert('新增成功');
        } else {
            alert('编辑成功');
        }
        $('#addDlg_orderPriceGate').dialog('close');
    });
    $("#editBtn_orderPriceGate").on('click', function () {
        var selected = datagrid.datagrid('getSelected');
        $('#addDlg_orderPriceGate').dialog({'title': '修改'});
        if (selected !== null) {
            $('#addForm_orderPriceGate').form('load', selected);
            $('#addForm_orderPriceGate').find('[__actType]').val('edit');
            $('#addDlg_orderPriceGate').dialog('open');
        } else {
            alert('请选择一条数据');
        }
    });
    $("#deleteBtn_orderPriceGate").on('click', function (event) {
        event.preventDefault();
        var selected = datagrid.datagrid('getSelected');
        if (selected !== null) {
            confirm('确定删除？', function (r) {
                if (r) {
                    alert('删除成功');
                }
            })

        } else {
            alert('请选择一条数据');
        }
    });
    $("#resetBtn_orderPriceGate").on('click', function (event) {
        event.preventDefault();
        $('#paramForm_orderPriceGate').form('reset');
    });
});
